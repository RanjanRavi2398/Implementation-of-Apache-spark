{"version":"NotebookV1","origId":4259324615413676,"name":"02_explore_aggregate_data","language":"python","commands":[{"version":"CommandV1","origId":4259324615413677,"guid":"3123871c-d72e-4277-97ab-5c241e54713e","subtype":"command","commandType":"auto","position":1.0,"command":"\n%md-sandbox\n\n<div style=\"text-align: center; line-height: 0; padding-top: 9px;\">\n  <img src=\"https://databricks.com/wp-content/uploads/2018/03/db-academy-rgb-1200px.png\" alt=\"Databricks Learning\" style=\"width: 600px\">\n</div>","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"793942be-a86a-4729-a66f-b260cd243511"},{"version":"CommandV1","origId":4259324615413678,"guid":"2f14cbce-226c-43c2-a605-2acc29284633","subtype":"command","commandType":"auto","position":2.0,"command":"%md\n# Exploring the Aggregate Sample Data","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"9d8fb17d-3632-4ecb-b78b-fe725c0b563d"},{"version":"CommandV1","origId":4259324615413679,"guid":"e51e8ff6-e18d-4885-95f3-b90bde045dcb","subtype":"command","commandType":"auto","position":3.0,"command":"%md\n## Configuration","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"5db698c1-ff1c-4b5a-a877-19c688968d55"},{"version":"CommandV1","origId":4259324615413680,"guid":"098478d2-6809-4771-b31f-511c8a553e85","subtype":"command","commandType":"auto","position":4.0,"command":"%run ./includes/configuration","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"6979fc4e-7bf0-475c-8b34-3c40f829e1dd"},{"version":"CommandV1","origId":4259324615413681,"guid":"6dec857f-cb27-4df2-9d96-4becf75201fb","subtype":"command","commandType":"auto","position":5.0,"command":"%md\n## Load the Sample Data as a Pandas DataFrame\n\nRecall that we wrote the sample data as a Delta table to\nthe path, `goldPath + \"health_tracker_sample_agg\"`.\n\n1. Use `spark.read` to read the Delta table as a Spark DataFrame.\n2. Use the `.toPandas()` DataFrame method to load the Spark\n   DataFrame as a Pandas DataFrame.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"beb0e914-bd30-49f4-9f7b-7d714e992068"},{"version":"CommandV1","origId":4259324615413682,"guid":"d2b4f178-b42d-4df1-944a-a78ee670a7b4","subtype":"command","commandType":"auto","position":6.0,"command":"# TODO\nhealth_tracker_sample_agg_pd_df = (\n  spark.read\n  .format(\"delta\")\n  FILL_THIS_IN\n)","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"c52376be-4447-45e6-945f-5f284f6bdaa7"},{"version":"CommandV1","origId":4259324615413683,"guid":"313348dc-4274-4b65-8281-4bab9743216b","subtype":"command","commandType":"auto","position":7.0,"command":"%md\n### Load Scipy Libraries","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"047da599-eb7e-4caf-b4ae-8326b2d5a0ac"},{"version":"CommandV1","origId":4259324615413684,"guid":"6a3f4ab8-4947-4e5d-992c-9e2073c8f418","subtype":"command","commandType":"auto","position":8.0,"command":"import matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"464c4740-24bd-4d64-860b-eea7d8395e1a"},{"version":"CommandV1","origId":4259324615413685,"guid":"235794df-7677-49e2-a472-3b1a6e0ca2fa","subtype":"command","commandType":"auto","position":9.0,"command":"%md\n### Display the Unique Lifestyles\n\n\uD83E\uDD14 Remember, Pandas DataFrames use the `.unique()` method to do this.\nSpark DataFrames use the `.distinct()` method.\n\nMake sure to specify the correct column, `lifestyle`.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"25e81e28-94f9-4974-be4b-15c4789eb1f1"},{"version":"CommandV1","origId":4259324615413686,"guid":"9520a672-6e39-4e41-8b32-9a2314102e14","subtype":"command","commandType":"auto","position":10.0,"command":"# TODO\nlifestyles = health_tracker_sample_agg_pd_df FILL_THIS_IN\nlifestyles","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"5ef0a96c-c611-408c-bc67-1083daf58c17"},{"version":"CommandV1","origId":4259324615413687,"guid":"9b3e329b-12f3-4523-8588-65a13408e21d","subtype":"command","commandType":"auto","position":11.0,"command":"%md\n### Create Feature and Target Objects","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"e7743529-87b1-40a5-8ded-5052d385b6be"},{"version":"CommandV1","origId":4259324615413688,"guid":"44b25c41-1148-4c48-9900-35429d09f117","subtype":"command","commandType":"auto","position":12.0,"command":"features = health_tracker_sample_agg_pd_df.select_dtypes(exclude=[\"object\"])\ntarget = health_tracker_sample_agg_pd_df[[\"lifestyle\"]].copy()","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"08276a5d-a5dd-43c8-b629-cbd7f2fa1abd"},{"version":"CommandV1","origId":4259324615413689,"guid":"ff2e15fb-1690-4655-9eed-5aa6aa019aaf","subtype":"command","commandType":"auto","position":13.0,"command":"%md\n### Use `seaborn` to Display a Pair Plot\n\nGenerate a `pairplot` of all of the features.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"874ba363-c996-4ee4-8b8d-ccb41fb89ffc"},{"version":"CommandV1","origId":4259324615413690,"guid":"384e35ed-cc75-4ead-b598-a8020ec3827b","subtype":"command","commandType":"auto","position":14.0,"command":"# TODO\nsns FILL_THIS_IN","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"0a76ebf5-f518-4593-981f-324a42718335"},{"version":"CommandV1","origId":4259324615413691,"guid":"42493aa4-484f-42a5-b0c6-cb470fc8da85","subtype":"command","commandType":"auto","position":15.0,"command":"%md\n### Use `seaborn` to Display a Distribution Plot for Each Feature\n\nGenerate a `distplot` for each feature.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"4ded36cc-8d63-4030-8784-a4824a0b2e00"},{"version":"CommandV1","origId":4259324615413692,"guid":"2e733b63-0d9c-4371-bbc7-392700aca452","subtype":"command","commandType":"auto","position":16.0,"command":"# TODO\nfig, ax = plt.subplots(1,4, figsize=(20,5))\n\nfor i, feature in enumerate(features):\n  sns.FILL_THIS_IN(features[feature], ax=ax[i])","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"ef4feb8f-27d6-4471-9d43-3dcb4eac23e1"},{"version":"CommandV1","origId":4259324615413693,"guid":"0504a072-f8e0-404c-824e-038544e83dbc","subtype":"command","commandType":"auto","position":17.0,"command":"%md\n### Use `seaborn` to Display a Distribution Plot for Each Feature, Colored by Lifestyle\n\nGenerate a `distplot` for each feature.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"e24ccd0f-ee0d-41db-8a1c-9cb3fc340c55"},{"version":"CommandV1","origId":4259324615413694,"guid":"d01868c2-47db-4ddc-b643-48c193e597c5","subtype":"command","commandType":"auto","position":18.0,"command":"# TODO\nfig, ax = plt.subplots(1,4, figsize=(20,5))\n\nfor i, feature in enumerate(features):\n  for lifestyle in lifestyles:\n    subset = features[target.FILL_THIS_IN == FILL_THIS_IN]\n    sns.FILL_THIS_IN(subset[feature], ax=ax[i], label=lifestyle)\n  ax[i].legend()","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"40afcc69-6952-49b0-9b66-6735411232c3"},{"version":"CommandV1","origId":4259324615413695,"guid":"106de1b7-3d29-42b1-9be0-138e99533142","subtype":"command","commandType":"auto","position":19.0,"command":"%md\n### Display a Correlation Plot for Each Feature\n\n1. The `mask` should have the same shape as the `corr`\n2. The `sns.heatmap` takes the `corr` as argument as uses the `mask` to mask.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"e8221206-60ec-4227-a04e-f8e52ac33398"},{"version":"CommandV1","origId":4259324615413696,"guid":"7043b358-c9ac-4321-b174-ac60e0315960","subtype":"command","commandType":"auto","position":20.0,"command":"# TODO\ncorr = features.corr()\nmask = np.zeros_like(FILL_THIS_IN)\nmask[np.triu_indices_from(mask, 0)] = True\nsns.heatmap(FILL_THIS_IN, mask=FILL_THIS_IN, square=True, annot=True)","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"c219e806-4217-4db7-a2d5-11f96da7b068"},{"version":"CommandV1","origId":4259324615413697,"guid":"7346978d-c80f-41ef-bf3b-18b102f4db10","subtype":"command","commandType":"auto","position":21.0,"command":"%md\n### Prepare a Two-Dimensional Projection of the Features using T-SNE\n\nYou can read more on T-SNE\n[here](https://colah.github.io/posts/2014-10-Visualizing-MNIST/).","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"9ba6c7f8-25ff-410f-a495-123c80c1add8"},{"version":"CommandV1","origId":4259324615413698,"guid":"69970852-1251-4ebf-b0c8-d63f5599c282","subtype":"command","commandType":"auto","position":22.0,"command":"from sklearn.manifold import TSNE\n\nnp.random.seed(10)\ntsne = TSNE(n_components=2)\n\nfeatures_in_two_dimensions = tsne.fit_transform(features)\nfeatures_in_two_dimensions = pd.DataFrame(features_in_two_dimensions)","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"160360b4-cfe9-4ac6-8912-b4c1bece6d3c"},{"version":"CommandV1","origId":4259324615413699,"guid":"e8ae1f8e-da08-41fb-8d07-c03a729b43a9","subtype":"command","commandType":"auto","position":23.0,"command":"%md\n### Plot the Two-Dimensional Projection Labeled by Lifestyle","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"31c2bd8f-f74c-4090-a3ad-dd3880030624"},{"version":"CommandV1","origId":4259324615413700,"guid":"875dd504-bbcb-416f-adb4-eca9413914d5","subtype":"command","commandType":"auto","position":24.0,"command":"colors = (\"blue\", \"orange\", \"green\")\nfig, ax = plt.subplots(1,1,figsize=(12,6))\n\nfor color, lifestyle in zip(colors, lifestyles):\n  two_dim_per_lifestyle = features_in_two_dimensions[target.lifestyle == lifestyle]\n  two_dim_per_lifestyle.plot(x=0, y=1, kind=\"scatter\", c=color, label=lifestyle, ax=ax)\n","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"2cbc7299-9b4d-4ffc-a6a6-b3773f40c19f"},{"version":"CommandV1","origId":4259324615413701,"guid":"5661b805-ca34-4b10-8e32-90831cf5fe9e","subtype":"command","commandType":"auto","position":25.0,"command":"%md-sandbox\n&copy; 2020 Databricks, Inc. All rights reserved.<br/>\nApache, Apache Spark, Spark and the Spark logo are trademarks of the <a href=\"http://www.apache.org/\">Apache Software Foundation</a>.<br/>\n<br/>\n<a href=\"https://databricks.com/privacy-policy\">Privacy Policy</a> | <a href=\"https://databricks.com/terms-of-use\">Terms of Use</a> | <a href=\"http://help.databricks.com/\">Support</a>","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"33f7dfdb-6393-4ad0-b674-b24f398e214f"}],"dashboards":[],"guid":"54b64bed-d771-47f4-94d5-aeb5518138a0","globalVars":{},"iPythonMetadata":null,"inputWidgets":{}}