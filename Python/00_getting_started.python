{"version":"NotebookV1","origId":4259324615413728,"name":"00_getting_started","language":"python","commands":[{"version":"CommandV1","origId":4259324615413729,"guid":"5a620607-1c70-42a5-b04d-25240ab5dd8c","subtype":"command","commandType":"auto","position":1.0,"command":"\n%md-sandbox\n\n<div style=\"text-align: center; line-height: 0; padding-top: 9px;\">\n  <img src=\"https://databricks.com/wp-content/uploads/2018/03/db-academy-rgb-1200px.png\" alt=\"Databricks Learning\" style=\"width: 600px\">\n</div>","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"d2052d84-9f5c-499a-9c4a-869db0fc5e52"},{"version":"CommandV1","origId":4259324615413730,"guid":"b48b0e7c-f345-4452-be11-bba06843eda9","subtype":"command","commandType":"auto","position":2.0,"command":"%md\n# Getting Started","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"0be8b613-ef51-458f-b1e9-ca0c8060f96c"},{"version":"CommandV1","origId":4259324615413731,"guid":"06f31155-882d-4d52-9c04-63af540da9b2","subtype":"command","commandType":"auto","position":3.0,"command":"%md\n## Configuration","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"babe1e86-df48-4703-9386-0a910ba2ec02"},{"version":"CommandV1","origId":4259324615413732,"guid":"8fd494ab-cb76-4be4-863a-6d0fbc655570","subtype":"command","commandType":"auto","position":4.0,"command":"%run ./includes/utilities","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"9baf3efd-8bfd-4189-a08f-7dc478b52c9d"},{"version":"CommandV1","origId":4259324615413733,"guid":"739f8719-4f10-4682-8270-df529add8c68","subtype":"command","commandType":"auto","position":5.0,"command":"%md\n## Make Notebook Idempotent\n\nThis step will make the notebook\n[idempotent](https://stackoverflow.com/a/1077421/1081801). In other\nwords, the notebook could be run more than once without throwing errors\nor introducing extra files.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"3b711601-4ed3-416c-b408-fb129f3666cc"},{"version":"CommandV1","origId":4259324615413734,"guid":"373d964c-a30b-4bb6-bac6-cb6cd4aa3318","subtype":"command","commandType":"auto","position":6.0,"command":"dbutils.fs.rm(projectPath, recurse=True)","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"8dec39aa-df64-4fc9-815d-054247612327"},{"version":"CommandV1","origId":4259324615413735,"guid":"9aec18a7-7feb-4ff8-88bb-abc5da9a20ab","subtype":"command","commandType":"auto","position":7.0,"command":"%md\n## Retrieve and Load the Data\n\nWe will be working with two files:\n\n- \"health_profile_data.snappy.parquet\"\n- \"user_profile_data.snappy.parquet\"\n\nThese files can be retrieved and loaded using the utility function `process_file`\n\nThis function takes three arguments:\n\n- `file_name: str`\n   - the name of the file to retrieve\n- `path: str`\n   - the location to write the file as a Delta table\n- `table_name: str`\n   - the name of a table to be used in the Metastore to reference the data\n\nThis function does three things:\n\n1. Retrieve a file and load it into your Databricks Workspace.\n1. Create a Delta table using the file.\n1. Register the Delta table in the Metastore so that it can be\n   referenced using SQL or a PySpark `table` reference.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"12a4387d-f886-435d-8794-08f241871674"},{"version":"CommandV1","origId":4259324615413736,"guid":"5e20faa1-d4ef-4d6c-8ec6-52d2f968fae8","subtype":"command","commandType":"auto","position":8.0,"command":"%md\n### Retrieve and Load the Data\n\nRetrieve the data using the following arguments:\n\n| `file_name` | `path` | `table_name` |\n|:-:|:-:|:-|\n| `health_profile_data.snappy.parquet` | `silverDailyPath` | `health_profile_data` |\n| `user_profile_data.snappy.parquet`   | `dimUserPath`     | `user_profile_data`   |","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"d8e72a6a-9fec-4316-9d92-6450c325cc19"},{"version":"CommandV1","origId":4259324615413737,"guid":"c498d974-90d2-4603-8c6a-1bc52954d9bc","subtype":"command","commandType":"auto","position":9.0,"command":"# TODO\n# Use the utility function `process_file` to retrieve the data\n# Use the arguments in the table above.\n\nprocess_file(\n  FILL_IN_FILE_NAME,\n  FILL_IN_PATH,\n  FILL_IN_TABLE_NAME\n)\n\nprocess_file(\n  FILL_IN_FILE_NAME,\n  FILL_IN_PATH,\n  FILL_IN_TABLE_NAME\n)","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"20781b23-2385-4d9f-9e4c-6600c2d26acd"},{"version":"CommandV1","origId":4259324615413738,"guid":"4c46ed2d-906c-46b2-b1f0-df733c9ff55b","subtype":"command","commandType":"auto","position":10.0,"command":"%md\n## Data Availability\n\nIn a typical workflow, data will have been made available to you\nas tables that can be queried using SQL or PySpark. This function\n`process_file` has performed the steps necessary to make the files\navailable to your workspace so that you can focus on data science.\nThis mirrors a typical workflow, where the data has been made\navailable to you by a data engineer.\n","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"aa80d836-d3ca-4623-b4f4-662d6d0f839f"},{"version":"CommandV1","origId":4259324615413739,"guid":"e1434875-65eb-4fa9-b383-9dd8b16ea85b","subtype":"command","commandType":"auto","position":11.0,"command":"%md-sandbox\n&copy; 2020 Databricks, Inc. All rights reserved.<br/>\nApache, Apache Spark, Spark and the Spark logo are trademarks of the <a href=\"http://www.apache.org/\">Apache Software Foundation</a>.<br/>\n<br/>\n<a href=\"https://databricks.com/privacy-policy\">Privacy Policy</a> | <a href=\"https://databricks.com/terms-of-use\">Terms of Use</a> | <a href=\"http://help.databricks.com/\">Support</a>","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"3a225be4-38cc-41a8-9c85-a130876fe1a8"}],"dashboards":[],"guid":"0f41e06c-7f7a-4f09-ba78-0e60ef3d2a3f","globalVars":{},"iPythonMetadata":null,"inputWidgets":{}}