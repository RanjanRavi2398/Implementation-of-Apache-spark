{"version":"NotebookV1","origId":4259324615413906,"name":"02_explore_aggregate_data","language":"python","commands":[{"version":"CommandV1","origId":4259324615413907,"guid":"04fdc45d-87df-4e0d-957c-a8cf1fb5032a","subtype":"command","commandType":"auto","position":1.0,"command":"\n%md-sandbox\n\n<div style=\"text-align: center; line-height: 0; padding-top: 9px;\">\n  <img src=\"https://databricks.com/wp-content/uploads/2018/03/db-academy-rgb-1200px.png\" alt=\"Databricks Learning\" style=\"width: 600px\">\n</div>","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"c4488d32-b419-4f2e-8176-30d4401a7703"},{"version":"CommandV1","origId":4259324615413908,"guid":"d2f1e9bb-6a37-445c-8d13-72962d407740","subtype":"command","commandType":"auto","position":2.0,"command":"%md\n# Exploring the Aggregate Sample Data","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"5032718a-202f-410f-b0fc-0755682236c3"},{"version":"CommandV1","origId":4259324615413909,"guid":"6e52e3a5-5b8d-49bf-95cd-ec09edbc8282","subtype":"command","commandType":"auto","position":3.0,"command":"%md\n## Configuration","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"c5231513-858e-4310-b454-e545f305a866"},{"version":"CommandV1","origId":4259324615413910,"guid":"3d6043c1-af4b-4f0d-bcd9-a6314c3163a1","subtype":"command","commandType":"auto","position":4.0,"command":"%run ./includes/configuration","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"3529a271-0e49-4fa5-891a-d3395f9b5e6d"},{"version":"CommandV1","origId":4259324615413911,"guid":"2d80c23d-5d8d-4b29-bde8-320ff5ea650d","subtype":"command","commandType":"auto","position":5.0,"command":"%md\n## Load the Sample Data as a Pandas DataFrame\n\nRecall that we wrote the sample data as a Delta table to\nthe path, `goldPath + \"health_tracker_sample_agg\"`.\n\n1. Use `spark.read` to read the Delta table as a Spark DataFrame.\n2. Use the `.toPandas()` DataFrame method to load the Spark\n   DataFrame as a Pandas DataFrame.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"cba305a4-6d82-49cf-ab79-0a996632733b"},{"version":"CommandV1","origId":4259324615413912,"guid":"f27d7246-ebec-45c7-be8c-a879e69d7002","subtype":"command","commandType":"auto","position":6.0,"command":"# ANSWER\nhealth_tracker_sample_agg_pd_df = (\n  spark.read\n  .format(\"delta\")\n  .load(goldPath + \"health_tracker_sample_agg\")\n  .toPandas()\n)","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"58aeca53-d3ac-41d5-85fc-6cec7f6f671a"},{"version":"CommandV1","origId":4259324615413913,"guid":"1b5a2dc5-7ff2-4cdd-9b4b-a3515c6d7d0b","subtype":"command","commandType":"auto","position":7.0,"command":"%md\n### Load Scipy Libraries","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"f34f2b55-fe7a-4081-b897-aceed8fe6984"},{"version":"CommandV1","origId":4259324615413914,"guid":"663fdbcf-ae47-4e08-9b43-482b4405bfcf","subtype":"command","commandType":"auto","position":8.0,"command":"import matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"59498cbe-067b-40c8-a5db-2f97367a5bb2"},{"version":"CommandV1","origId":4259324615413915,"guid":"ee0c699f-37ea-4f1e-a88e-2360614b2113","subtype":"command","commandType":"auto","position":9.0,"command":"%md\n### Display the Unique Lifestyles\n\n\uD83E\uDD14 Remember, Pandas DataFrames use the `.unique()` method to do this.\nSpark DataFrames use the `.distinct()` method.\n\nMake sure to specify the correct column, `lifestyle`.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"a7d62740-e9f1-43fe-a221-084e33f34f22"},{"version":"CommandV1","origId":4259324615413916,"guid":"ebaf3c2f-dc76-49bb-a04e-0048441813d2","subtype":"command","commandType":"auto","position":10.0,"command":"# ANSWER\nlifestyles = health_tracker_sample_agg_pd_df.lifestyle.unique()\nlifestyles","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"17869620-4958-4cd4-9379-b1c90cf1dacd"},{"version":"CommandV1","origId":4259324615413917,"guid":"4fae3df1-a5d4-4799-9b9e-6b7c33ad8a14","subtype":"command","commandType":"auto","position":11.0,"command":"%md\n### Create Feature and Target Objects","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"a268ae36-452d-452e-8786-d9699774bbb7"},{"version":"CommandV1","origId":4259324615413918,"guid":"37dfde85-bc17-4674-88cf-7986c75a7005","subtype":"command","commandType":"auto","position":12.0,"command":"features = health_tracker_sample_agg_pd_df.select_dtypes(exclude=[\"object\"])\ntarget = health_tracker_sample_agg_pd_df[[\"lifestyle\"]].copy()","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"946ec5be-a469-4fd9-82bb-c19918198625"},{"version":"CommandV1","origId":4259324615413919,"guid":"43fcd4d8-2e2c-466c-ac96-ac5864837a3a","subtype":"command","commandType":"auto","position":13.0,"command":"%md\n### Use `seaborn` to Display a Pair Plot\n\nGenerate a `pairplot` of all of the features.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"52636c27-1187-450d-84d1-cbda8e97367e"},{"version":"CommandV1","origId":4259324615413920,"guid":"8698f3e9-de98-4470-8a27-c30a81e8584d","subtype":"command","commandType":"auto","position":14.0,"command":"# ANSWER\nsns.pairplot(features)","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"cefd3bc4-1e95-4fee-9070-295c603b2890"},{"version":"CommandV1","origId":4259324615413921,"guid":"562270c5-fbc1-45f9-92db-8c3cf1d61c44","subtype":"command","commandType":"auto","position":15.0,"command":"%md\n### Use `seaborn` to Display a Distribution Plot for Each Feature\n\nGenerate a `distplot` for each feature.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"29d9b708-a6f5-4093-b110-6435a91b2383"},{"version":"CommandV1","origId":4259324615413922,"guid":"8623dea6-f716-42dc-8874-fdfc3ac98684","subtype":"command","commandType":"auto","position":16.0,"command":"# ANSWER\nfig, ax = plt.subplots(1,4, figsize=(20,5))\n\nfor i, feature in enumerate(features):\n  sns.distplot(features[feature], ax=ax[i])","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"256d573a-1d52-44ac-861f-a523306bfc19"},{"version":"CommandV1","origId":4259324615413923,"guid":"be197a0e-13d8-4914-b6cf-0b31fa5ba3a2","subtype":"command","commandType":"auto","position":17.0,"command":"%md\n### Use `seaborn` to Display a Distribution Plot for Each Feature, Colored by Lifestyle\n\nGenerate a `distplot` for each feature.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"1b04bf37-fe6f-4bf0-8df1-00a37748b5d2"},{"version":"CommandV1","origId":4259324615413924,"guid":"4e5c7538-8d31-4e98-ae0b-152a82bf70b4","subtype":"command","commandType":"auto","position":18.0,"command":"# ANSWER\nfig, ax = plt.subplots(1,4, figsize=(20,5))\n\nfor i, feature in enumerate(features):\n  for lifestyle in lifestyles:\n    subset = features[target.lifestyle == lifestyle]\n    sns.distplot(subset[feature], ax=ax[i], label=lifestyle)\n  ax[i].legend()","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"180b4447-c7df-4e64-ba6d-c9390c782adc"},{"version":"CommandV1","origId":4259324615413925,"guid":"6fe27146-782b-4321-b69d-0b836d4223bd","subtype":"command","commandType":"auto","position":19.0,"command":"%md\n### Display a Correlation Plot for Each Feature\n\n1. The `mask` should have the same shape as the `corr`\n2. The `sns.heatmap` takes the `corr` as argument as uses the `mask` to mask.","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"7de432c8-cf37-4be0-b17b-ad7a24fe32eb"},{"version":"CommandV1","origId":4259324615413926,"guid":"2a958f46-fe4d-4daf-9e40-f53b448ca9ad","subtype":"command","commandType":"auto","position":20.0,"command":"# ANSWER\ncorr = features.corr()\nmask = np.zeros_like(corr)\nmask[np.triu_indices_from(mask, 0)] = True\nsns.heatmap(corr, mask=mask, square=True, annot=True)","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"f95e2f4c-0c6a-42b3-a990-ddb45ed2c02c"},{"version":"CommandV1","origId":4259324615413927,"guid":"e2ffeaef-1550-4374-8b7c-c4719e325730","subtype":"command","commandType":"auto","position":21.0,"command":"%md\n### Prepare a Two-Dimensional Projection of the Features using T-SNE\n\nYou can read more on T-SNE\n[here](https://colah.github.io/posts/2014-10-Visualizing-MNIST/).","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"5a9624d8-d9ff-4fb7-84a8-71c130cb52c1"},{"version":"CommandV1","origId":4259324615413928,"guid":"6be63b36-f1d6-486d-a8b2-3a279f45b52c","subtype":"command","commandType":"auto","position":22.0,"command":"from sklearn.manifold import TSNE\n\nnp.random.seed(10)\ntsne = TSNE(n_components=2)\n\nfeatures_in_two_dimensions = tsne.fit_transform(features)\nfeatures_in_two_dimensions = pd.DataFrame(features_in_two_dimensions)","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"0e3dd107-6663-4736-9916-74ffa7f3d9b7"},{"version":"CommandV1","origId":4259324615413929,"guid":"5d7b9f8d-1097-417a-9d74-babf174ce07f","subtype":"command","commandType":"auto","position":23.0,"command":"%md\n### Plot the Two-Dimensional Projection Labeled by Lifestyle","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"81774499-276a-447c-9770-b8f512cb68af"},{"version":"CommandV1","origId":4259324615413930,"guid":"27302f6e-b42f-4a51-b27d-e61373b918ba","subtype":"command","commandType":"auto","position":24.0,"command":"colors = (\"blue\", \"orange\", \"green\")\nfig, ax = plt.subplots(1,1,figsize=(12,6))\n\nfor color, lifestyle in zip(colors, lifestyles):\n  two_dim_per_lifestyle = features_in_two_dimensions[target.lifestyle == lifestyle]\n  two_dim_per_lifestyle.plot(x=0, y=1, kind=\"scatter\", c=color, label=lifestyle, ax=ax)\n","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"851f57de-b214-48c9-a7f9-d569d529e6df"},{"version":"CommandV1","origId":4259324615413931,"guid":"b43682fd-fa2c-45a3-b7f7-8b0992457c62","subtype":"command","commandType":"auto","position":25.0,"command":"%md-sandbox\n&copy; 2020 Databricks, Inc. All rights reserved.<br/>\nApache, Apache Spark, Spark and the Spark logo are trademarks of the <a href=\"http://www.apache.org/\">Apache Software Foundation</a>.<br/>\n<br/>\n<a href=\"https://databricks.com/privacy-policy\">Privacy Policy</a> | <a href=\"https://databricks.com/terms-of-use\">Terms of Use</a> | <a href=\"http://help.databricks.com/\">Support</a>","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"useConsistentColors":false,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"joshua.cook@databricks.com","latestUserId":null,"commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"isLockedInExamMode":false,"iPythonMetadata":null,"streamStates":{},"datasetPreviewNameToCmdIdMap":{},"nuid":"d9fb0cbd-0742-44c9-830a-040e3f53c3d1"}],"dashboards":[],"guid":"3c8acb05-8611-4341-be3a-7849bda1fef1","globalVars":{},"iPythonMetadata":null,"inputWidgets":{}}